# Basic settings
-dontshrink
-dontoptimize
-useuniqueclassmembernames
-adaptclassstrings
-dontnote
-ignorewarnings
-dontwarn

# Keep application entry point
-keepclasseswithmembers public class * {
    public static void main(java.lang.String[]);
}

# Keep Spring Boot application class
-keep @org.springframework.boot.autoconfigure.SpringBootApplication class * {
    *;
}

# Keep Spring configuration classes
-keep @org.springframework.context.annotation.Configuration class * {
    *;
}

# Keep Spring Boot properties classes
-keep @org.springframework.boot.context.properties.ConfigurationProperties class * {
    *;
}

# Keep Spring stereotypes
-keep @org.springframework.stereotype.Controller class *
-keep @org.springframework.stereotype.Service class *
-keep @org.springframework.stereotype.Repository class *
-keep @org.springframework.stereotype.Component class *

# Keep Spring Beans and injections
-keepclassmembers class * {
    @org.springframework.context.annotation.Bean *;
    @org.springframework.beans.factory.annotation.Autowired *;
    @org.springframework.beans.factory.annotation.Qualifier *;
    @org.springframework.beans.factory.annotation.Value *;
}

# Keep JPA entities
-keep @javax.persistence.Entity class *
-keep @javax.persistence.Table class *
-keepclassmembers class * {
    @javax.persistence.Id *;
    @javax.persistence.Column *;
    @javax.persistence.ManyToOne *;
    @javax.persistence.OneToMany *;
    @javax.persistence.OneToOne *;
    @javax.persistence.ManyToMany *;
}

# Keep repository interfaces
-keep interface com.htet.employeemanagementapi.repositories.** {
    *;
}

# Keep serializable classes
-keep class * implements java.io.Serializable {
    static final long serialVersionUID;
    private static final java.io.ObjectStreamField[] serialPersistentFields;
    private void writeObject(java.io.ObjectOutputStream);
    private void readObject(java.io.ObjectInputStream);
    java.lang.Object writeReplace();
    java.lang.Object readResolve();
}

# Keep enum classes
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

# Keep essential attributes
-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,*Annotation*,EnclosingMethod,RuntimeVisibleAnnotations

# Keep specific packages (adjust as needed)
-keep class com.htet.employeemanagementapi.controller.** {
    public *;
}

-keep class com.htet.employeemanagementapi.security.** {
    public *;
}

-keep class com.htet.employeemanagementapi.config.** {
    public *;
}

# Spring Boot specific keeps
-keep class org.springframework.boot.loader.** { *; }
-keep class org.springframework.boot.** { *; }



# JWT library
-keep class io.jsonwebtoken.** { *; }
-dontwarn io.jsonwebtoken.**
